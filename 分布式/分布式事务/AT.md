基本原理：
两阶段提交协议的演变：
- 一阶段：业务数据和回滚日志记录在同一个本地事务中提交，释放本地锁和连接资源。
- 二阶段：
    - 提交异步化，非常快速地完成。
    - 回滚通过一阶段的回滚日志进行反向补偿。
问题：很明显可以看出上面2阶段有个大问题，就是多个事务操作同一数据时，可能会出现脏写，出现这种情况便不能回滚1阶段提交的事务。
    - 举例：事务1 对用户A进行扣款 account= 1000 - 100 ，1阶段开始提交，after image （account = 900）
    - 事务2也对用户A进行扣款 account = 900 - 60，还未提交事务，现在事务1需要回滚（当前account = 840 不等于 900所以不能进行事务1的回滚操作）
    - 造成这种情况的根本原因是at模式不能保证事务的隔离性。

优点：简单

缺点：

解决方案：协调者和参与者都添加重试和超时机制
